(this.webpackJsonpfennekwebui=this.webpackJsonpfennekwebui||[]).push([[0],{56:function(e,t,a){},57:function(e,t,a){},70:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(31),l=a.n(s),r=(a(70),a(1)),i=a(2),c=a(8),u=a(3),d=a(4),m=a(10),h=(a(56),a(22)),p=a(64),f=a(21),_=a(26),g=(a(71),a(65)),v=(a(28),a(60)),b=a.n(v),E=(a(86),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e,n){var o;return Object(r.a)(this,a),(o=t.call(this,e,n)).handleChangeComplete=function(e){o.props.handleChangeComplete(e,o.props.effect)},o.handleOnChange=function(e){o.props.handleOnChange(e,o.props.effect)},o.state={value:e.value,sound:null,effect:""},o}return Object(i.a)(a,[{key:"render",value:function(){return this.state.sound=this.props.sound,this.state.effect=this.props.effect,o.a.createElement("div",{className:"slider-vertical"},o.a.createElement(b.a,{value:this.props.value,orientation:"vertical",onChange:this.handleOnChange,onChangeComplete:this.handleChangeComplete}))}}]),a}(n.Component)),y=a(23),S=a(61),k=a(52),w=(a(88),function(e){var t=e.notesAreaWidthInPixels,a=e.timePerSequence,s=e.totalLapsedTime,l=Object(n.useRef)(null);return Object(n.useLayoutEffect)((function(){var e=Math.min(s%a/a,1);l.current.style.transform="translate3d("+(e*t).toFixed(2)+"px, 0, 0px)"}),[t,a,s]),o.a.createElement("div",{className:"play_head",ref:l})}),C=Object(n.memo)(w),N=a(16),O=a(13),j=[{id:0,title:"4-on-the-Floor",noteCount:16,trackList:[{title:"Your Sound",soundFile:"whatever",onNotes:[0,2,4,6,8,10,12,14]}]}],P=Object(n.createContext)({sequence:{},toggleNote:function(){},selectSequence:function(){}}),x=function(e,t){switch(t.type){case"SET_SEQUENCE":return Object(m.a)({},j.find((function(e){return e.id===t.value})));case"SET_ON_NOTES":var a=e.trackList.map((function(e,a){return t.trackID===a?Object(m.a)(Object(m.a)({},e),{},{onNotes:t.value}):e}));return Object(m.a)(Object(m.a)({},e),{},{trackList:a});default:return e}},A=function(e){var t=e.children,a=Object(n.useReducer)(x,Object(m.a)({},j[0])),s=Object(O.a)(a,2),l=s[0],r=s[1];return o.a.createElement(P.Provider,{value:{sequence:l,toggleNote:function(e){var t,a=e.trackID,n=e.stepID,o=l.trackList[a].onNotes;t=-1===o.indexOf(n)?[].concat(Object(N.a)(o),[n]):o.filter((function(e){return e!==n})),r({type:"SET_ON_NOTES",value:t,trackID:a})},selectSequence:function(e){r({type:"SET_SEQUENCE",value:e})}}},t)},T=a(9),D=a.n(T),R=a(15),I=function(){function e(t){Object(r.a)(this,e),this.base64ToArrayBuffer=function(e){for(var t=window.atob(e),a=t.length,n=new Uint8Array(a),o=0;o<a;o++)n[o]=t.charCodeAt(o);return n.buffer};var a=!!navigator.userAgent.match(/safari/i)&&!navigator.userAgent.match(/chrome/i)&&"undefined"!==typeof document.body.style.webkitFilter,n=window.AudioContext||window.webkitAudioContext||window.MozAudioContext;this.audioContext=new n,a&&(this.isSafariFixed=!1,this.boundSafariFix=this.safariFix.bind(this),window.addEventListener("click",this.boundSafariFix,!1)),this.buffer||this.loadSound(t)}return Object(i.a)(e,[{key:"safariFix",value:function(){if(this.isSafariFixed)window.removeEventListener("click",this.boundSafariFix,!1);else{var e=this.audioContext.createBuffer(1,1,22050),t=this.audioContext.createBufferSource();t.buffer=e,t.connect(this.audioContext.destination),t.start(0),this.isSafariFixed=!0}}},{key:"loadSound",value:function(){var e=Object(R.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.recorderNode=this.audioContext.createGain(),this.recorderNode.gain.value=1,this.buffer=null,this.path=t,a=this.base64ToArrayBuffer(t),console.log(typeof a),e.next=8,this.decodeAudioDataAsync(this.audioContext,a);case 8:this.buffer=e.sent;case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"decodeAudioDataAsync",value:function(e,t){return new Promise((function(a,n){e.decodeAudioData(t,(function(e){return a(e)}),(function(e){return n(e)}))}))}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.audioContext.resume();var a=this.audioContext.createGain(),n=this.audioContext.createBufferSource();a.gain.value=e,n.playbackRate.value=t,n.buffer=this.buffer,n.connect(a),a.connect(this.recorderNode),a.connect(this.audioContext.destination),n.start(0)}}]),e}(),M=function(e){var t=Object(n.useState)({play:function(){}}),a=Object(O.a)(t,2),o=a[0],s=a[1],l=Object(n.useCallback)((function(){return o.play()}),[o]);return Object(n.useEffect)((function(){s(new I(e))}),[e]),[l]},B=a(18),L=a.n(B),F=(a(89),function(e){var t=e.trackID,a=e.stepID,s=e.isNoteOn,l=e.isNoteOnCurrentStep,r=e.play,i=Object(n.useContext)(P).toggleNote,c=L()("note",{on:s,playing:s&&l});Object(n.useEffect)((function(){s&&l&&r()}),[s,l,r]);return o.a.createElement("div",{className:c,onClick:function(e){e.target.classList.toggle("on"),i({trackID:t,stepID:a}),r()}})}),G=Object(n.memo)(F),z=(a(57),function(e){var t=e.trackID,a=e.currentStepID,n=e.title,s=e.noteCount,l=e.onNotes,r=e.soundFilePath,i=M(r),c=Object(O.a)(i,1)[0],u=Object(N.a)(Array(s)).map((function(e,n){var s=-1!==l.indexOf(n),r=a===n,i=n;return o.a.createElement(G,{key:n,trackID:t,stepID:i,isNoteOn:s,isNoteOnCurrentStep:r,play:c})}));return o.a.createElement("div",{className:"track"},o.a.createElement("header",{className:"track_title"},n),o.a.createElement("main",{className:"track_notes"},u))}),q=Object(n.memo)(z),H=function(e){var t=e.currentStepID,a=e.base64Sound,s=Object(n.useContext)(P).sequence,l=s.trackList,r=s.noteCount,i=l.map((function(e,n){var s=e.title,l=e.onNotes;e.soundFile;return o.a.createElement(q,{key:s,trackID:+n,currentStepID:t,title:s,noteCount:r,onNotes:l,soundFilePath:a})}));return o.a.createElement("div",{className:"track-list"},i)},U=Object(n.memo)(H),V=(a(90),function(e){var t=e.setStartTime,a=e.setPastLapse,s=e.setBPM,l=e.isSequencePlaying,r=e.startTime,i=e.BPM,c=Object(n.useContext)(P),u=c.sequence.id,d=c.selectSequence;return o.a.createElement("nav",{className:"toolbar"},o.a.createElement("button",{className:"form_element button_stop",onClick:function(){a(0),t(null)},"aria-label":"Stop"},o.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14"},o.a.createElement("rect",{className:"button_icon_path",x:"2",y:"2",width:"10",height:"10"}))),o.a.createElement("button",{className:"form_element button_play_pause",onClick:function(){l?(a((function(e){return e+performance.now()-r})),t(null)):t(performance.now())},"aria-label":"Play / Pause"},o.a.createElement("svg",{width:"14",height:"14",viewBox:"8 8 20 20"},l&&o.a.createElement("path",{className:"button_icon_path",id:"pause-icon","data-state":"playing",d:"M11,10 L17,10 17,26 11,26 M20,10 L26,10 26,26 20,26"}),!l&&o.a.createElement("path",{className:"button_icon_path",id:"play-icon","data-state":"paused",d:"M11,10 L18,13.74 18,22.28 11,26 M18,13.74 L26,18 26,18 18,22.28"}))),o.a.createElement("input",{className:"form_element input_bpm",id:"bpm",type:"text",value:i,onChange:function(e){s(e.target.value)}}),o.a.createElement("label",{className:"label_bpm",htmlFor:"bpm"},"BPM"),o.a.createElement("select",{className:"form_element select_sequence",value:u,onChange:function(e){return d(+e.target.value)},"aria-label":"Select sequence"},j.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.title)}))))}),K=Object(n.memo)(V),J=(a(91),function(e){var t=e.count,a=void 0===t?0:t,n=Object(N.a)(Array(a)).map((function(e,t){return o.a.createElement("div",{className:"step",key:t+1},t+1)}));return o.a.createElement("div",{className:"steps"},n)}),W={__app_visibility:"visible",__color_bg:"#505050",__color_fg:"#f5f5f5",__color_black:"#000",__color_dark_grey:"#2e2e2e",__color_light_grey:"#5d5d5d",__color_highlight:"#37e147",__base_font_size:12,__number_of_steps:16,__number_of_tracks:4,__grid_unit:2,__play_head_width:2,__form_element_height:30,__input_bpm_width:45,__step_height:32,__track_title_width:120,__note_width:32,__note_height:49,__note_border_size:1,__note_margin_vert:5,__note_margin_horz:4},Q=W.__note_width+2*W.__note_margin_horz,Y=W.__note_height+2*W.__note_margin_vert,$=function(e){return Q*e-W.__play_head_width/2},X=function(e,t){return document.documentElement.style.setProperty(e,t)},Z=function(e){return Object(n.useEffect)((function(){!function(e){W.__number_of_steps=e,X("--app-visibility",W.__app_visibility),X("--color-bg",W.__color_bg),X("--color-fg",W.__color_fg),X("--color-black",W.__color_black),X("--color-dark-grey",W.__color_dark_grey),X("--color-light-grey",W.__color_light_grey),X("--color-highlight",W.__color_highlight),X("--base-font-size",W.__base_font_size+"px"),X("--number-of-steps",W.__number_of_steps),X("--play-head-width",W.__play_head_width+"px"),X("--play-head-height",Y*W.__number_of_tracks-2*W.__note_margin_vert+"px"),X("--spacer",5*W.__grid_unit+"px"),X("--form-element-height",W.__form_element_height+"px"),X("--button-pause-play-width",W.__form_element_height+"px"),X("--input-bpm-width",W.__input_bpm_width+"px"),X("--step-height",W.__step_height+"px"),X("--track-title-width",W.__track_title_width+"px"),X("--note-border-size",W.__note_border_size+"px"),X("--note-width",W.__note_width+"px"),X("--note-height",W.__note_height+"px"),X("--note-margin-vert",W.__note_margin_vert+"px"),X("--note-margin-horz",W.__note_margin_horz+"px"),X("--note-width-full",Q+"px"),X("--left-gutter-size",W.__track_title_width+5*W.__grid_unit*2+"px"),X("--all-note-widths",Q*W.__number_of_steps+"px"),X("--app-max-width",W.__track_title_width+5*W.__grid_unit*2+(W.__note_width+2*W.__note_margin_horz)*W.__number_of_steps+"px")}(e)}),[e]),[$]},ee=function(e){var t=Object(n.useState)(null),a=Object(O.a)(t,2),o=a[0],s=a[1];return Object(n.useLayoutEffect)((function(){if(e){var t=requestAnimationFrame((function(){return s(performance.now())}));return function(){return cancelAnimationFrame(t)}}}),[e,o]),e?o:null};a(92);var te=function(e){var t=e.base64Sound,a=e.startTime,s=e.pastLapsedTime,l=e.BPM,r=e.setStartTime,i=e.setPastLapse,c=e.setBPM,u=16,d=Object(n.useState)(null),m=Object(O.a)(d,2),h=m[0],p=m[1],f=Z(u),_=(0,Object(O.a)(f,1)[0])(u),g=60/l*1e3*8,v=g/u,b=null!==a,E=ee(b),y=s+(b?Math.max(0,E-a):0);Object(n.useEffect)((function(){p(b?Math.floor(y/v)%u:null)}),[b,v,y,u]);var S={setStartTime:r,setPastLapse:i,setBPM:c,isSequencePlaying:b,startTime:a,BPM:l},k={notesAreaWidthInPixels:_,timePerSequence:g,totalLapsedTime:y},w={currentStepID:h};return o.a.createElement(A,null,o.a.createElement("main",{className:"app"},o.a.createElement("header",{className:"app_header"},o.a.createElement("h1",{className:"app_title"}),o.a.createElement(K,S)),o.a.createElement(J,{count:u}),o.a.createElement("div",{className:"app_content"},o.a.createElement(C,k),o.a.createElement(U,{base64Sound:t,currentStepID:w.currentStepID}))))},ae=a(50),ne=a(53),oe=a(49),se=(a(93),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return this.props.visualizations&&0!==this.props.visualizations.length?o.a.createElement(oe.a,{defaultActiveKey:"0",style:{"text-align":"center"}},o.a.createElement(oe.a.Toggle,{as:_.a,variant:"link",eventKey:"0"},"Show Visualizer"),o.a.createElement(oe.a.Collapse,{eventKey:"0"},o.a.createElement(ne.a,null,this.props.visualizations.map((function(e){return o.a.createElement(ne.a.Item,null,o.a.createElement("h3",null,e.name),o.a.createElement(ae.a,{style:{width:"80%",height:"auto"},src:"data:image/png;base64,"+e.base64img,rounded:!0}))}))))):null}}]),a}(o.a.Component)),le=a(62),re=a.p+"static/media/1600px-Logo_KIT.6ba029f8.png",ie=a.p+"static/media/refresh_icon.d18b1ef2.svg";a(27);var ce=a(63),ue=a.n(ce),de={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},me={borderColor:"#2196f3"},he={borderColor:"#00e676"},pe={borderColor:"#ff1744"};function fe(e){var t=Object(g.a)({accept:"audio/wav",onDrop:e.onDrop}),a=t.getRootProps,s=t.getInputProps,l=t.isDragActive,r=t.isDragAccept,i=t.isDragReject,c=Object(n.useMemo)((function(){return Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)({},de),l?me:{}),r?he:{}),i?pe:{})}),[l,i,r]);return o.a.createElement("div",{className:"container"},o.a.createElement("div",a({style:c}),o.a.createElement("input",s()),o.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files")))}var _e=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).keyMap={SPACE:"space",ENTER:"enter",SEQUENCER:"s"},n.particles_config={num:[4,7],rps:.1,radius:[5,40],life:[1.5,3],v:[2,3],tha:[-40,40],alpha:[.6,0],scale:[1,.1],position:"center",color:["random","#ff0000"],cross:"dead",random:15,g:5,onParticleUpdate:function(e,t){e.beginPath(),e.rect(t.p.x,t.p.y,2*t.radius,2*t.radius),e.fillStyle=t.color,e.fill(),e.closePath()}},n.storeDropContent=function(e){var t=new FileReader;t.readAsDataURL(e[0]);var a=Object(c.a)(n);t.onloadend=function(){var e=t.result.replace(/^data:.+;base64,/,"");a.setState({files:e})}},n.scatterMarkerClick=function(e,t,a){a.seriesIndex;var o=a.dataPointIndex;a.config;console.log(n.state.series[0].data[o].sound)},n.onGenerate=function(e){n.setState({isLoading:!0}),fetch("/generate",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({data:n.state.files?n.state.files:"generated.wav",model:n.state.model,model_instrument:n.state.model_instrument})}).then((function(e){return e.json()})).then((function(e){var t=new Audio("data:audio/wav;base64,"+e.result);n.setState({result:e.result,sound:t,processedSound:t,isLoading:!1,isReadyForPostprocessing:!0,particlesColor:n.changeParticlesColor()}),t.play()}))},n.downloadStuff=function(){if(n.state.result){console.log(n.state.result),console.log(n.state.processedSound);var e=new Audio("data:audio/wav;base64,"+n.state.result);console.log(e),n.setState({sound:e,playing:!1});var t=document.createElement("a"),a=new Blob([n.state.result],{type:"audio/wav"});t.href=URL.createObjectURL(a),t.download="sound.wav",document.body.appendChild(t),t.click()}else alert("Nothing to download you fool")},n.playStuff=function(){fetch("/play",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({data:n.state.files?n.state.files:"processed.wav"})}).then((function(e){return e.json()})).then((function(e){var t=new Audio("data:audio/wav;base64,"+e.result);n.setState({result:e.result,processedSound:t,isLoading:!1}),console.log(n.state.processedSound),console.log(t),t.play()}))},n.handleCancelClick=function(e){n.setState({result:""})},n.handleHotKeySpace=function(){console.log("Pressed Space!"),n.playStuff()},n.handleHotKeySequencer=function(){console.log("Pressed S!");var e=n.state.sequencerProps;e.startTime?(e.startTime=null,e.pastLapsedTime=0):e.startTime=performance.now(),n.setState({sequencerProps:e})},n.handleHotKeyEnter=function(){console.log("Pressed Enter!"),n.onGenerate()},n.handleDropdownWaveGAN=function(e){n.setState({model:"GAN",isGAN:!0,isSimilaritySearch:!1}),console.log(n.state.model_instrument),"Instrument"!==n.state.model_instrument&&n.setState({isReadyForGeneration:!0})},n.handleDropdownCherry=function(e){n.setState({model:"GAN",isGAN:!0,isSimilaritySearch:!1}),"Instrument"!==n.state.model_instrument&&n.setState({isReadyForGeneration:!0})},n.handleDropdownSpecGAN=function(e){console.log("SpecGAN"),n.setState({model:"SpecGAN",isGAN:!0,isSimilaritySearch:!1}),"Instrument"!==n.state.model_instrument&&n.setState({isReadyForGeneration:!0})},n.handleDropdownMelGAN=function(e){console.log("MelGAN"),n.setState({model:"MelGAN",isGAN:!0,isSimilaritySearch:!1}),"Instrument"!==n.state.model_instrument&&(console.log("Ab jetzt eligible"),n.setState({isReadyForGeneration:!0}))},n.handleDropdownGoogleDDSP=function(e){console.log("GoogleDDSP"),n.setState({model:"GoogleDDSP",isGAN:!0,isSimilaritySearch:!1}),"Instrument"!==n.state.model_instrument&&n.setState({isReadyForGeneration:!0})},n.handleDropdownVAE=function(e){console.log("VAE"),n.setState({model:"Variational Autoencoder",isGAN:!1,isSimilaritySearch:!1}),"Model Selection"!==n.state.model&&n.setState({isReadyForGeneration:!0}),fetch("/tsne",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({data:"tsne"})}).then((function(e){return e.json()})).then((function(e){console.log(e.result),n.setState({series:e.result})}))},n.handleSimilaritySearch=function(e){console.log("Similiarity Search"),n.setState({model:"Similiarity Search",isGAN:!0,isSimilaritySearch:!0}),"Model Selection"!==n.state.model&&n.setState({isReadyForGeneration:!0})},n.handleRandom=function(e){console.log("Random Button");var t=Math.random()<.5,a=Math.floor(101*Math.random()),o=Math.floor(101*Math.random()),s=Math.floor(101*Math.random()),l=Math.floor(101*Math.random());n.setState({distortion_value:a,reverb_value:o,highpass_value:s,lowpass_value:l,isReversed:t}),n.setState({isBookmarked:!1}),n.postEffectsUpdate(t,o,s,l,a)},n.handleDropdownInstrument=function(e){console.log(e.target),console.log(e.target.id),n.setState({model_instrument:e.target.id}),console.log(n.state.model),"Model Selection"!=n.state.model&&n.setState({isReadyForGeneration:!0})},n.handleDropdownPresets=function(e){console.log(e.target.id),fetch("/getMongoDBData",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.target.id,type:"presets"})}).then((function(e){return e.json()})).then((function(e){console.log(e),n.setState({distortion_value:e.distortion_value,reverb_value:e.reverb_value,highpass_value:e.highpass_value,lowpass_value:e.lowpass_value,isReversed:e.isReversed,volume_value:e.volume_value}),n.setState({isBookmarked:!1}),n.postEffectsUpdate()}))},n.handleReverseSound=function(e){console.log("Handle Reverse"),!1===n.state.isReversed?(console.log("New State: isReversed True"),n.setState({isReversed:!0}),n.postEffectsUpdate(!0)):(console.log("New State: isReversed False"),n.setState({isReversed:!1}),n.postEffectsUpdate(!1))},n.handleVisualization=function(e){console.log("Handle Visualization"),fetch("/getVisualization",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({data:"visualization"})}).then((function(e){return e.json()})).then((function(e){new Audio("data:audio/wav;base64,"+e.result);n.setState({visualizations:e.visualization})}))},n.handleHistory=function(e){console.log("Handle History"),console.log(e.target.id),console.log(e),fetch("/getMongoDBData",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:e.target.id,type:"bookmark"})}).then((function(e){return e.json()})).then((function(e){console.log(e),n.setState({distortion_value:e.distortion_value,reverb_value:e.reverb_value,highpass_value:e.highpass_value,lowpass_value:e.lowpass_value,isReversed:e.isReversed,volume_value:e.volume_value}),n.setState({isBookmarked:!1}),n.postEffectsUpdate()}))},n.handleBookmark=function(e){console.log("Bookmark"),!1===n.state.isBookmarked?(console.log("New State: Bookmarked"),fetch("/bookmark",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({data:"Bookmark_value",volume_value:n.state.volume_value,distortion_value:n.state.distortion_value,reverb_value:n.state.reverb_value,highpass_value:n.state.highpass_value,lowpass_value:n.state.lowpass_value,isReversed:n.state.isReversed,model:n.state.model,model_instrument:n.state.model_instrument,timestamp:(new Date).getTime()})}).then((function(e){return e.json()})).then((function(e){console.log("successfully wrote bookmark to database")})),n.setState({isBookmarked:!0}),n.getBookmarksList()):(console.log("New State: Not Bookmarked"),n.setState({isBookmarked:!1}))},n.handleScatterClick=function(e){console.log("Scatter"),console.log(e)},n.changeParticlesColor=function(){var e=["#0000ff","#ff00ff","#ff0000","#00ffff","#00ff00"];return e[Math.floor(Math.random()*e.length)]},n.getBookmarksList=function(){fetch("/getMongoDBList",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({type:"bookmarks"})}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=e.result;t.sort((function(e,t){return e.timestamp>t.timestamp})),n.setState({bookmarks:t})}))},n.handleOnChange=function(e,t){"distortion"===t&&(console.log("The Target Distortion Amount is"+n.state.distortion_value),n.setState({distortion_value:e})),"reverb"===t&&(console.log("The Target Reverb Amount is"+n.state.reverb_value),n.setState({reverb_value:e})),"volume"===t&&(console.log("The Target Volume Amount is"+n.state.volume_value),n.setState({volume_value:e})),"lowpass"===t&&(console.log("The Target lowpass amount is"+n.state.lowpass_value),n.setState({lowpass_value:e})),"highpass"===t&&(console.log("The Target highpass Amount is"+n.state.highpass_value),n.setState({highpass_value:e}))},n.postEffectsUpdate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===e&&(e=n.state.isReversed),null===t&&(t=n.state.volume_value),null===l&&(l=n.state.distortion_value),null===a&&(a=n.state.reverb_value),null===o&&(o=n.state.highpass_value),null===s&&(s=n.state.lowpass_value),console.log("is Reversed Value bei PostEffectsUpdate"),console.log(e),fetch("/effects",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({data:"Effect_Values",volume_value:t,distortion_value:l,reverb_value:a,highpass_value:o,lowpass_value:s,isReversed:e})}).then((function(e){return e.json()})).then((function(e){console.log("successfully generated Processed.wav file")}))},n.handleChangeComplete=function(e,t){"distortion"===t&&console.log("The Target Distortion Amount is"+n.state.distortion_value),"reverb"===t&&console.log("The Target Reverb Amount is"+n.state.reverb_value),"volume"===t&&console.log("The Target Volume Amount is"+n.state.volume_value),"lowpass"===t&&console.log("The Target Lowpass Amount is"+n.state.lowpass_value),"highpass"===t&&console.log("The Target Highpass Amount is"+n.state.highpass_value),n.postEffectsUpdate(),n.setState({isBookmarked:!1})},n.setStartTime=function(e){var t=n.state.sequencerProps;t.startTime=e,n.setState({sequencerProps:t})},n.setPastLapse=function(e){var t=n.state.sequencerProps;t.pastLapse=e,n.setState({sequencerProps:t})},n.setBPM=function(e){var t=n.state.sequencerProps;t.setBPM=e,n.setState({sequencerProps:t})},n.myRef=o.a.createRef(),n.state={isLoading:!1,isGAN:!0,isReadyForGeneration:!1,isReadyForPostprocessing:!1,isAE:!1,isDDSP:!1,isBookmarked:!1,isSimilaritySearch:!1,bookmarks:[],playing:!1,isReversed:!1,model:"Model Selection",model_instrument:"Instrument",result:"idd",visualizations:null,files:"",sound:null,processedSound:null,volumeSliderValue:100,distortion_value:0,particlesColor:"#a9a9a9",reverb_value:0,volume_value:100,lowpass_value:100,highpass_value:0,sequencerProps:{startTime:null,pastLapsedTime:0,BPM:120,currentStepID:null,totalSteps:16},series:[{name:"Autoencoder Claps",data:[{x:34.7574,y:37.994343,sound:"clap2"},{x:-31.031717,y:10.498918,sound:"clap3"}]}],options:{chart:{type:"scatter",zoom:{enabled:!0,type:"xy"},events:{markerClick:n.scatterMarkerClick}},xaxis:{tickAmount:10,labels:{show:!1,formatter:function(e){return parseFloat(e).toFixed(1)}}},yaxis:{show:!1,tickAmount:7}}},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getBookmarksList()}},{key:"render",value:function(){var e=this,t=this.state.isLoading,a=this.state.isBookmarked?"dark":"success",n=this.state.isBookmarked?"Bookmarked \u2b50":"Bookmark",s=this.state.isReversed?"secondary":"success",l=this.state.isReversed?"Undo Reverse":"Reverse Sound";return o.a.createElement(p.a,null,o.a.createElement(S.GlobalHotKeys,{keyMap:this.keyMap,handlers:{SPACE:this.handleHotKeySpace,SEQUENCER:this.handleHotKeySequencer,ENTER:this.handleHotKeyEnter}}),o.a.createElement("div",{className:"content"},o.a.createElement(f.a,null,o.a.createElement(h.a,{className:"fennekcol"},o.a.createElement("h2",null,"Select your Model and Instrument"))),o.a.createElement("img",{src:re,className:"ribbon"}),o.a.createElement(f.a,null,o.a.createElement(h.a,{className:"fennekcol"},o.a.createElement(y.a,null,o.a.createElement(y.a.Toggle,{block:!0,variant:"primary",id:"dropdown-basic"},this.state.model),o.a.createElement(y.a.Menu,{align:"right"},o.a.createElement(y.a.Item,{onClick:this.handleDropdownCherry},"GAN"),o.a.createElement(y.a.Item,{onClick:this.handleDropdownVAE},"Variational Autoencoder"),o.a.createElement(y.a.Item,{onClick:this.handleSimilaritySearch},"Similarity Search")))),o.a.createElement(h.a,{className:"fennekcol"},o.a.createElement(y.a,null,o.a.createElement(y.a.Toggle,{block:!0,variant:"primary",id:"dropdown-basic"},this.state.model_instrument),o.a.createElement(y.a.Menu,null,o.a.createElement(y.a.Item,{id:"Kick",onClick:this.handleDropdownInstrument},"Kick"),o.a.createElement(y.a.Item,{id:"Snare",onClick:this.handleDropdownInstrument},"Snare"),o.a.createElement(y.a.Item,{id:"Hi-Hat",onClick:this.handleDropdownInstrument},"Hi-Hat"),o.a.createElement(y.a.Item,{id:"Clap",onClick:this.handleDropdownInstrument},"Clap"),o.a.createElement(y.a.Item,{id:"Cymbal",onClick:this.handleDropdownInstrument},"Cymbal"))))),o.a.createElement(le.a,{color:this.state.particlesColor,type:"cobweb",bg:!0,num:30}),o.a.createElement(f.a,null,o.a.createElement(h.a,{className:"fennekcol"},this.state.isSimilaritySearch?o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Add your Input"),o.a.createElement(fe,{onDrop:this.storeDropContent},(function(e){var t=e.getRootProps,a=e.getInputProps;return o.a.createElement("section",null,o.a.createElement("div",t(),o.a.createElement("input",a()),o.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files")))}))):o.a.createElement("div",null))),this.state.isReadyForGeneration?o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{className:"justify-content-md-center row"},o.a.createElement(h.a,{className:"fennekcol"},this.state.isGAN?o.a.createElement("div",null):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{align:"center",width:"80%"},o.a.createElement(ue.a,{options:this.state.options,series:this.state.series,dataPointSelection:this.handleScatterClick,type:"scatter",width:"600"}))))),o.a.createElement(f.a,null,o.a.createElement(h.a,{className:"fennekcol"},o.a.createElement("h2",null,"Generate your Sound"),o.a.createElement("p",{class:"text-secondary"},"Hotkeys: 'Enter' to generate, 'Space' to Play  and 's' to Sequence Sound "),o.a.createElement(f.a,{className:"justify-content-md-center row"},o.a.createElement(_.a,{block:!0,variant:"primary",disabled:t,onClick:t?null:this.onGenerate},t?"Generating...":"Generate Sound with AI"))))):o.a.createElement("div",null),this.state.isReadyForPostprocessing?o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,null,o.a.createElement(h.a,null,o.a.createElement("h2",null,"Postprocessing"))),o.a.createElement(f.a,{className:"justify-content-md-center row"},this.state.result?o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(h.a,{className:"effectcol"},o.a.createElement(_.a,{block:!0,variant:"success",onClick:this.playStuff},this.state.playing?"Playing...":"\u25b6"))),o.a.createElement(f.a,null,o.a.createElement(h.a,{className:"effectcol"},o.a.createElement(E,{value:this.state.distortion_value,effect:"distortion",sound:this.state.sound,handleOnChange:this.handleOnChange,handleChangeComplete:this.handleChangeComplete,orientation:"horizontal"}),o.a.createElement(f.a,{className:"justify-content-md-center row"},o.a.createElement("p",null," Distortion "))),o.a.createElement(h.a,{className:"effectcol"},o.a.createElement(E,{value:this.state.reverb_value,effect:"reverb",sound:this.state.sound,handleOnChange:this.handleOnChange,handleChangeComplete:this.handleChangeComplete,orientation:"horizontal"}),o.a.createElement(f.a,{className:"justify-content-md-center row"},o.a.createElement("p",null," Reverb "))),o.a.createElement(h.a,{className:"effectcol"},o.a.createElement(E,{value:this.state.volume_value,effect:"volume",sound:this.state.sound,handleOnChange:this.handleOnChange,handleChangeComplete:this.handleChangeComplete,orientation:"horizontal"}),o.a.createElement(f.a,{className:"justify-content-md-center row"},o.a.createElement("p",null," Volume "))),o.a.createElement(h.a,{className:"effectcol"},o.a.createElement(E,{value:this.state.lowpass_value,effect:"lowpass",sound:this.state.sound,handleOnChange:this.handleOnChange,handleChangeComplete:this.handleChangeComplete,orientation:"horizontal"}),o.a.createElement(f.a,{className:"justify-content-md-center row"},o.a.createElement("p",null," Lowpass "))),o.a.createElement(h.a,{className:"effectcol"},o.a.createElement(E,{value:this.state.highpass_value,effect:"highpass",sound:this.state.sound,handleOnChange:this.handleOnChange,handleChangeComplete:this.handleChangeComplete,orientation:"horizontal"}),o.a.createElement(f.a,{className:"justify-content-md-center row"},o.a.createElement("p",null," Highpass ")))),o.a.createElement(f.a,null,o.a.createElement(h.a,{className:"effectcol"},o.a.createElement(_.a,{variant:"success",onClick:this.handleRandom},"Random \ud83c\udfb2")),o.a.createElement(h.a,{className:"effectcol"},o.a.createElement(_.a,{variant:s,onClick:this.handleReverseSound},l)),o.a.createElement(h.a,{className:"effectcol"},o.a.createElement(y.a,null,o.a.createElement(y.a.Toggle,{variant:"success",id:"dropdown-basic"},"Presets"),o.a.createElement(y.a.Menu,null,o.a.createElement(y.a.Item,{id:"Big Room",onClick:this.handleDropdownPresets},"Big Room"),o.a.createElement(y.a.Item,{id:"Small Room",onClick:this.handleDropdownPresets},"Small Room"),o.a.createElement(y.a.Item,{id:"Clipping",onClick:this.handleDropdownPresets},"Clipping")))),o.a.createElement(h.a,{className:"effectcol"},o.a.createElement(_.a,{variant:a,onClick:this.handleBookmark},n)))):o.a.createElement("div",null)),o.a.createElement(f.a,{style:{marginTop:"50px"}},o.a.createElement("div",{class:"col-12"},o.a.createElement("ul",{class:"list-group"},this.state.bookmarks.map((function(t){return o.a.createElement("li",{id:t._id,class:"list-group-item list-group-item-action",onClick:e.handleHistory},t.instrument,o.a.createElement(k.a,{variant:"warning",style:{"margin-left":"20px"}},t.model),o.a.createElement(k.a,{variant:"danger",style:{"margin-left":"20px"}},function(e){var t=new Date(parseInt(e));return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()}(t.timestamp)))}))))),o.a.createElement(f.a,null,o.a.createElement(h.a,{className:"fennekcol"},o.a.createElement("h2",null,"Sound Visualizer"),o.a.createElement(f.a,{className:"justify-content-md-center row"},o.a.createElement(_.a,{className:"justify-content-md-center",class:"border border-primary",variant:"light",onClick:this.handleVisualization},o.a.createElement("img",{src:ie}))))),o.a.createElement(f.a,null,o.a.createElement(h.a,{className:"fennekcol"},o.a.createElement(se,{visualizations:this.state.visualizations}))),this.state.result&&"i"!==this.state.result?o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{style:{"margin-top":"30px"}},o.a.createElement(h.a,{className:"fennekcol"},o.a.createElement("h2",null,"Sequencer"),o.a.createElement(te,{startTime:this.state.sequencerProps.startTime,pastLapsedTime:this.state.sequencerProps.pastLapsedTime,BPM:this.state.sequencerProps.BPM,base64Sound:this.state.result,setStartTime:this.setStartTime,setPastLapse:this.setPastLapse,setBPM:this.setBPM}))),o.a.createElement(f.a,{className:"justify-content-md-center row"},o.a.createElement(_.a,{variant:"primary",onClick:this.downloadStuff},"Download"))):null):o.a.createElement("div",null)))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(58);l.a.render(o.a.createElement(_e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[95,1,2]]]);
//# sourceMappingURL=main.450011f1.chunk.js.map